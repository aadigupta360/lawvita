<%- include('header') %><div class="max-w-4xl mx-auto px-4"><h1 class="text-3xl font-bold mb-8">Cart</h1><% if(cartItems.length===0){ %><p>Empty</p><% }else{ %><div class="glass p-6 mb-6"><% cartItems.forEach(i=>{ %><div class="flex justify-between items-center mb-4 border-b border-white/10 pb-2"><span><%= i.title %></span><div class="flex items-center gap-4"><span>₹<%= i.price %></span><a href="/cart/remove/<%= i.id %>" class="text-red-400 hover:text-red-200"><i data-lucide="trash-2" size="18"></i></a></div></div><% }) %><div class="text-xl font-bold text-right pt-4">Total: ₹<%= total %></div><button id="rzp-btn" class="w-full btn bg-blue-600 text-white mt-4">Pay Now</button></div><% } %></div><script src="https://checkout.razorpay.com/v1/checkout.js"></script><script>document.getElementById('rzp-btn').onclick=async function(e){const res=await fetch('/create-order',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({amount:<%= total %>})});const order=await res.json();var options={"key":"<%= razorpayKey %>","amount":order.amount,"currency":"INR","order_id":order.id,"handler":function(r){fetch('/verify-payment',{method:'POST'}).then(r=>r.json()).then(d=>{if(d.status==='success')window.location.href='/dashboard'})}};var rzp=new Razorpay(options);rzp.open();}</script><%- include('footer') %>