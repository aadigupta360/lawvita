<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Viewer</title><script src="https://cdn.tailwindcss.com"></script><style>body{background:#000;height:100vh;overflow:hidden;user-select:none}.blur-filter{filter:blur(20px);pointer-events:none}iframe{width:100%;height:100%;border:none}.watermark-overlay{position:absolute;inset:0;pointer-events:none;z-index:50;display:flex;flex-wrap:wrap;justify-content:space-around;overflow:hidden;opacity:0.15}.watermark{font-size:18px;font-weight:bold;color:white;transform:rotate(-45deg);margin:60px;white-space:nowrap}</style></head><body oncontextmenu="return false;"><div class="fixed top-0 w-full bg-black/90 text-white p-3 flex justify-between items-center z-50 px-4 border-b border-white/10"><span class="font-bold truncate max-w-[200px]"><%= note.title %></span><a href="/dashboard" class="bg-red-600 px-4 py-2 rounded text-xs font-bold">Exit</a></div><div id="content-area" class="w-full h-full pt-12"><iframe src="/stream-pdf/<%= note.fileName %>#toolbar=0&navpanes=0&scrollbar=0"></iframe><div class="watermark-overlay"><% for(let i=0; i<40; i++) { %> <div class="watermark"><%= user.email %> â€¢ <%= user.name %></div> <% } %></div></div><div id="security-warning" class="fixed inset-0 bg-black z-[999] hidden flex items-center justify-center text-red-500 font-bold text-xl text-center p-4">SCREENSHOT ATTEMPT DETECTED <br> Content Hidden</div><script>const c=document.getElementById('content-area'),w=document.getElementById('security-warning');window.addEventListener('blur',()=>{c.classList.add('blur-filter');w.classList.remove('hidden');document.title="Security Alert"});window.addEventListener('focus',()=>{c.classList.remove('blur-filter');w.classList.add('hidden');document.title="Secure Viewer"});document.addEventListener('keyup',(e)=>{if(e.key==='PrintScreen'||(e.ctrlKey&&e.key==='s')){alert('Screenshots disabled.');c.style.display='none';setTimeout(()=>c.style.display='block',1000)}});document.addEventListener('dragstart',(e)=>e.preventDefault());</script></body></html>